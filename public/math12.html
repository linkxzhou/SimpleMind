<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>思维导图卡片视图</title>
    <style>
        :root {
            --indent-width: 40px;
            --connector-color: #e8e8e8;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f5f7fa;
            margin: 0;
            padding: 10px;
            color: #333;
        }

        h2 {
            text-align: center;
            margin-bottom: 10px;
            color: #1f2d3d;
        }

        #app {
            max-width: 1000px;
            margin: 0 auto;
        }

        /* 节点包装器 */
        .node-wrapper {
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 10px;
        }

        /* 子节点缩进容器 */
        .children-wrapper {
            padding-left: var(--indent-width);
            border-left: 2px solid var(--connector-color);
            margin-left: 10px; /* 让线条对齐父节点的大致中心或左侧 */
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* 卡片样式 */
        .card {
            background-color: #fff;
            border-radius: 12px;
            padding: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            position: relative;
            color: #fff; /* 默认文字颜色为白色，适应深色背景 */
            min-width: 200px;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .card-text {
            font-size: 1.25rem;
            font-weight: 600;
            line-height: 1.4;
            margin-bottom: 4px;
        }

        .card-note {
            font-size: 0.95rem;
            line-height: 1.6;
            opacity: 0.95;
            white-space: pre-wrap; /* 保留换行符 */
        }

        /* 响应式调整 */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            .children-wrapper {
                padding-left: 10px;
                margin-left: 5px;
            }
        }
    </style>
</head>
<body>

    <h2 id="topic-title">思维导图Card</h2>
    <div id="app"></div>

    <script>
        // 模拟思维导图数据
        const cardData = 
        // {{REPLACE:cardData BEGIN}}
{
  "data": {
    "text": "六年级数学下册总结",
    "expand": true,
    "uid": "65cd948c-4cc9-42a5-acf4-3b4eedba79b6",
    "isActive": false
  },
  "children": [
    {
      "data": {
        "text": "负数的认识与应用",
        "note": "负数是表示相反意义量的数，用负号(-)表示。生活中常见于温度、收支、海拔等场景。掌握正数、负数、0的概念，能用数轴表示正负数，理解0既不是正数也不是负数。负数的读法是先读'负'再读数，如-3读作负三。",
        "nextSystemPrompt": "基于负数概念，总结出负数的表示方法、数轴应用、生活实例等具体知识点",
        "color": "#2E5266",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "c789d6b5-e5f3-4878-8058-4e402dc3698f",
        "dir": "right"
      },
      "children": [
        {
          "data": {
            "text": "负数的概念与读写",
            "note": "负数是在正数前加负号(-)的数，表示与正数相反的意义。正数前可加正号(+)，一般省略。0既不是正数也不是负数。负数读法：先读'负'，再读数字。",
            "nextSystemPrompt": "",
            "color": "#3A6B7A",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "6ff27085-13b4-40f8-8839-ad8fe31ec0d3"
          },
          "children": []
        },
        {
          "data": {
            "text": "相反意义的量",
            "note": "负数用来表示具有相反意义的量，如零上温度与零下温度、收入与支出、盈利与亏损、海拔高度等。通过正负数可以清晰表示这些对立的概念。",
            "nextSystemPrompt": "",
            "color": "#4A7B8A",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "658130aa-0a5f-44cb-91ab-7247cbdcc393"
          },
          "children": []
        },
        {
          "data": {
            "text": "数轴上的负数",
            "note": "数轴是表示数的直线，0是分界点，0右边是正数，0左边是负数。通过数轴可以直观地表示正负数的位置关系和大小比较。",
            "nextSystemPrompt": "",
            "color": "#5A8B9A",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "496189b1-ccbb-4af1-9af9-7be3a1f5137d"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "百分数的实际应用",
        "note": "百分数在生活中广泛应用，包括折扣、成数、税率、利率等。掌握打折计算、成数换算、税收计算、银行利息计算等实际问题的解决方法。理解几折就是十分之几，成数表示十分之几。",
        "nextSystemPrompt": "基于百分数应用，总结出折扣计算、成数应用、税率计算、利率计算等具体应用场景",
        "color": "#8B4513",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "715e3242-d55f-4566-90f5-922690c49f16",
        "dir": "right"
      },
      "children": [
        {
          "data": {
            "text": "折扣问题",
            "note": "打折是商店降价销售的方式，几折就表示十分之几或百分之几十。如打九折就是按原价的90%出售。计算公式：现价=原价×折扣率。",
            "nextSystemPrompt": "",
            "color": "#A0522D",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "9fe0b307-005f-4f71-a4fc-34a07dc3efa2"
          },
          "children": []
        },
        {
          "data": {
            "text": "成数问题",
            "note": "成数表示一个数是另一个数的十分之几，如'二成'就是20%。常用于表示增长或减少的幅度，如增产三成表示增长30%。",
            "nextSystemPrompt": "",
            "color": "#B8651F",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "173ccece-d4ab-4f16-83fb-f4d9216d956e"
          },
          "children": []
        },
        {
          "data": {
            "text": "税率计算",
            "note": "税收是国家财政收入来源，应纳税额与收入的比率叫税率。计算公式：应纳税额=应纳税收入×税率。包括消费税、增值税、个人所得税等。",
            "nextSystemPrompt": "",
            "color": "#CD853F",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "1193a892-8da5-43c8-ba9d-ac6f3a2e4f17"
          },
          "children": []
        },
        {
          "data": {
            "text": "利率计算",
            "note": "银行存款产生利息，利息与本金的比率叫利率。计算公式：利息=本金×利率×存期。到期金额=本金+利息=本金×(1+利率×存期)。",
            "nextSystemPrompt": "",
            "color": "#DAA520",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "88ffa2a3-e272-44d0-ad22-aee2c8f0465e"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "圆柱的认识与计算",
        "note": "圆柱是由3个面围成的立体图形：上下两个相等的圆形底面和一个曲面侧面。掌握圆柱的特征、侧面展开图、表面积和体积的计算方法。侧面积=底面周长×高，体积=底面积×高。",
        "nextSystemPrompt": "基于圆柱知识，总结出圆柱特征、侧面积计算、表面积计算、体积计算等具体内容",
        "color": "#4682B4",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "cbbc5733-aa11-4842-b98d-28ae040f4cd1",
        "dir": "right"
      },
      "children": [
        {
          "data": {
            "text": "圆柱的特征",
            "note": "圆柱由上下两个相等的圆形底面和一个曲面侧面组成。两个底面平行且全等，侧面是曲面。圆柱的高是两个底面圆心之间的距离。",
            "nextSystemPrompt": "",
            "color": "#5F9EA0",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "798ea981-257e-4b19-b569-e803ee9282f2"
          },
          "children": []
        },
        {
          "data": {
            "text": "圆柱侧面展开图",
            "note": "圆柱侧面沿高剪开展开后得到长方形，长方形的长等于圆柱底面周长，宽等于圆柱的高。这是计算侧面积的基础。",
            "nextSystemPrompt": "",
            "color": "#6495ED",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "8b15843e-1c74-47e1-9e4a-3c58e7843bfc"
          },
          "children": []
        },
        {
          "data": {
            "text": "圆柱表面积计算",
            "note": "圆柱表面积=侧面积+两个底面积。侧面积=底面周长×高=2πrh，底面积=πr²。完整公式：表面积=2πrh+2πr²。",
            "nextSystemPrompt": "",
            "color": "#4169E1",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "e59c1389-76fd-4f11-b654-91757121a5ff"
          },
          "children": []
        },
        {
          "data": {
            "text": "圆柱体积计算",
            "note": "圆柱体积=底面积×高。用字母表示：V=Sh或V=πr²h。通过将圆柱切割重新拼成近似长方体的方法推导出体积公式。",
            "nextSystemPrompt": "",
            "color": "#0000CD",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "5d3734e3-ba3a-4c87-a68c-75e5260fe60d"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "圆锥的认识与计算",
        "note": "圆锥由一个圆形底面和一个曲面侧面组成，有一个顶点。圆锥的高是从顶点到底面圆心的距离。圆锥体积是同底等高圆柱体积的1/3，公式为V=1/3Sh=1/3πr²h。",
        "nextSystemPrompt": "基于圆锥知识，总结出圆锥特征、高的测量、体积计算、实际应用等具体内容",
        "color": "#8B008B",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "17d797ad-c9c3-454a-a764-255801c5bfe3",
        "dir": "right"
      },
      "children": [
        {
          "data": {
            "text": "圆锥的特征",
            "note": "圆锥由一个圆形底面和一个曲面侧面组成，有一个顶点。从顶点到底面圆心的距离是圆锥的高。圆锥只有一个底面。",
            "nextSystemPrompt": "",
            "color": "#9932CC",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "a92bff29-6799-48fe-93a7-610420511dfb"
          },
          "children": []
        },
        {
          "data": {
            "text": "圆锥高的测量",
            "note": "测量圆锥的高需要将底面放平，用直尺从顶点垂直测量到底面的距离。高是从顶点到底面圆心的垂直距离。",
            "nextSystemPrompt": "",
            "color": "#BA55D3",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "dca48d7a-a08a-4384-a2f8-3c748b89962b"
          },
          "children": []
        },
        {
          "data": {
            "text": "圆锥体积公式",
            "note": "通过实验发现：圆锥体积=1/3×同底等高圆柱体积。公式：V=1/3Sh=1/3πr²h。其中S是底面积，h是高，r是底面半径。",
            "nextSystemPrompt": "",
            "color": "#DA70D6",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "3bc2ea76-62de-4a45-a4b9-aeed3e1e3d90"
          },
          "children": []
        },
        {
          "data": {
            "text": "圆锥实际应用",
            "note": "圆锥在生活中应用广泛，如沙堆、漏斗、帽子等。解决实际问题时要注意单位统一，合理取近似值，理解题意中的几何关系。",
            "nextSystemPrompt": "",
            "color": "#FF1493",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "19ac647b-a806-4d2b-90b3-89260c9aecbd"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "比例的意义和性质",
        "note": "比例表示两个比相等的式子，如a:b=c:d。组成比例的四个数叫比例的项，两端是外项，中间是内项。比例的基本性质：两外项的积等于两内项的积，即ad=bc。",
        "nextSystemPrompt": "基于比例概念，总结出比例的意义、基本性质、解比例、比例应用等具体知识点",
        "color": "#228B22",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "1d3f4f89-6257-42a9-8c66-226a08c24257",
        "dir": "right"
      },
      "children": [
        {
          "data": {
            "text": "比例的意义",
            "note": "表示两个比相等的式子叫比例。如2.4:1.6=60:40。组成比例的四个数叫比例的项，2.4和40是外项，1.6和60是内项。",
            "nextSystemPrompt": "",
            "color": "#32CD32",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "e07a3c8b-3904-4054-bcf3-d103d0d0871d"
          },
          "children": []
        },
        {
          "data": {
            "text": "比例的基本性质",
            "note": "在比例里，两个外项的积等于两个内项的积。用字母表示：如果a:b=c:d，那么ad=bc。这是判断比例和解比例的重要依据。",
            "nextSystemPrompt": "",
            "color": "#3CB371",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "8e845998-2a7e-4011-8070-0a61d773aaf9"
          },
          "children": []
        },
        {
          "data": {
            "text": "解比例",
            "note": "根据比例的基本性质，已知比例中任意三项，可以求出第四项。求比例中未知项的过程叫解比例。步骤：设未知数，列比例式，应用基本性质求解。",
            "nextSystemPrompt": "",
            "color": "#20B2AA",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "f73be0ed-5915-4565-bccb-6a6b218d3304"
          },
          "children": []
        },
        {
          "data": {
            "text": "比例的应用",
            "note": "比例广泛应用于实际生活，如地图比例尺、相似图形、工程问题等。通过建立比例关系可以解决许多实际问题，体现数学与生活的联系。",
            "nextSystemPrompt": "",
            "color": "#48D1CC",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "e93587b7-1a47-45c7-9c09-4cb5541c8224"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "正比例和反比例",
        "note": "正比例：两种相关联的量，一种量变化，另一种量也按相同比率变化，比值一定。反比例：两种相关联的量，一种量变化，另一种量按相反比率变化，乘积一定。掌握判断方法和应用。",
        "nextSystemPrompt": "基于正反比例概念，总结出正比例关系、反比例关系、图像特征、实际应用等知识点",
        "color": "#DC143C",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "398b7ef4-e9be-456e-8e1a-2025bce60de3",
        "dir": "right"
      },
      "children": [
        {
          "data": {
            "text": "正比例关系",
            "note": "两种相关联的量，一种量变化，另一种量也按相同比率变化，这两种量成正比例。特征：比值一定，即y/x=k(常数)。",
            "nextSystemPrompt": "",
            "color": "#B22222",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "66be44df-53a8-42f0-a7c5-2ecbdcced817"
          },
          "children": []
        },
        {
          "data": {
            "text": "反比例关系",
            "note": "两种相关联的量，一种量变化，另一种量按相反比率变化，这两种量成反比例。特征：乘积一定，即x×y=k(常数)。",
            "nextSystemPrompt": "",
            "color": "#8B0000",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "f18c09c8-feb0-4561-9b4b-9ac1aded267d"
          },
          "children": []
        },
        {
          "data": {
            "text": "比例图像",
            "note": "正比例的图像是过原点的直线，反比例的图像是双曲线。通过图像可以直观地理解和判断两种量之间的比例关系。",
            "nextSystemPrompt": "",
            "color": "#CD5C5C",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "e9d12a2d-e121-4aae-8efa-c5abb42f03c1"
          },
          "children": []
        },
        {
          "data": {
            "text": "比例应用题",
            "note": "利用正反比例关系解决实际问题，如速度时间路程关系、工作效率问题、购物问题等。关键是找出两种量之间的关系，建立比例式求解。",
            "nextSystemPrompt": "",
            "color": "#FA8072",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "ae8d25e3-100d-4be7-a0e9-7f9872a3f638"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "比例尺的应用",
        "note": "比例尺表示图上距离与实际距离的比。分数值比例尺和线段比例尺两种表示方法。掌握图上距离、实际距离、比例尺三者之间的关系，能解决地图、建筑图等实际问题。",
        "nextSystemPrompt": "基于比例尺概念，总结出比例尺意义、计算方法、地图应用、建筑图应用等具体内容",
        "color": "#FF8C00",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "3d71bc51-2f78-4955-9779-014a75cc36ba",
        "dir": "right"
      },
      "children": [
        {
          "data": {
            "text": "比例尺的意义",
            "note": "比例尺表示图上距离与实际距离的比。公式：比例尺=图上距离:实际距离。有数值比例尺(如1:1000000)和线段比例尺两种表示方法。",
            "nextSystemPrompt": "",
            "color": "#FF7F50",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "db83a41c-693e-4a1a-ba3b-81d1ef5ed130"
          },
          "children": []
        },
        {
          "data": {
            "text": "比例尺计算",
            "note": "已知比例尺和实际距离求图上距离，或已知比例尺和图上距离求实际距离。计算时注意单位统一，通常将实际距离化为与图上距离相同的单位。",
            "nextSystemPrompt": "",
            "color": "#FFA500",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "3b576955-9a6d-416e-9ae6-94e234901f98"
          },
          "children": []
        },
        {
          "data": {
            "text": "地图比例尺",
            "note": "地图上的比例尺帮助我们计算实际距离。比例尺越大，表示的范围越小但越详细；比例尺越小，表示的范围越大但越简略。",
            "nextSystemPrompt": "",
            "color": "#FFB347",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "51ce77cc-0112-444e-b3b5-02225b966bd9"
          },
          "children": []
        },
        {
          "data": {
            "text": "建筑图比例尺",
            "note": "建筑设计图、机械图等都使用比例尺。通过比例尺可以从图纸计算出实际的长度、面积等，是工程设计的重要工具。",
            "nextSystemPrompt": "",
            "color": "#FFCC99",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "27e7015f-a0ed-4a6f-a803-cd6cbb9087f3"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "鸽巢问题",
        "note": "鸽巢问题是重要的推理方法，也叫抽屉原理。基本思想：把n+1个物体放入n个抽屉，至少有一个抽屉里有2个或以上物体。通过这个原理可以解决许多逻辑推理问题。",
        "nextSystemPrompt": "基于鸽巢问题，总结出基本原理、简单应用、复杂应用、推理方法等具体知识点",
        "color": "#800080",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "fbd301f3-6798-4e03-9cce-367458396f05",
        "dir": "left"
      },
      "children": [
        {
          "data": {
            "text": "鸽巢原理基础",
            "note": "把n+1个物体放入n个抽屉，至少有一个抽屉里有2个或以上物体。这是鸽巢问题的基本原理，也叫抽屉原理或狄利克雷原理。",
            "nextSystemPrompt": "",
            "color": "#9370DB",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "1ca9ce2e-dec9-4017-b6de-7c3ffb2fd86c"
          },
          "children": []
        },
        {
          "data": {
            "text": "简单鸽巢问题",
            "note": "直接应用鸽巢原理的问题，如13个人中至少有2个人生日在同一个月，5个苹果放入4个盒子至少有一个盒子有2个苹果等。",
            "nextSystemPrompt": "",
            "color": "#8A2BE2",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "415af0ae-e6f2-45ac-bcd8-4d656b5b6747"
          },
          "children": []
        },
        {
          "data": {
            "text": "复杂鸽巢问题",
            "note": "需要构造抽屉的鸽巢问题，关键是找到合适的分类方法。如颜色搭配问题、数字问题等，需要巧妙地设计抽屉来应用原理。",
            "nextSystemPrompt": "",
            "color": "#7B68EE",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "f851dedd-27dd-4028-b9ee-1af0dddd9b09"
          },
          "children": []
        },
        {
          "data": {
            "text": "推理思维训练",
            "note": "鸽巢问题培养逻辑推理能力，体现数学的严密性。通过这类问题训练，提高分析问题、抽象思维和逻辑推理的能力。",
            "nextSystemPrompt": "",
            "color": "#6A5ACD",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "7c9ea677-6913-43de-bae9-ca217ee1be77"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "数与代数复习",
        "note": "整理六年来数与代数的知识：自然数、整数、分数、小数、百分数、负数的认识；四则运算法则；方程与比例；数的性质等。构建完整的数系概念和运算体系。",
        "nextSystemPrompt": "基于数与代数知识，总结出数的认识、运算法则、方程解法、数量关系等复习要点",
        "color": "#2F4F4F",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "4c09877c-eaf7-4b0f-8fba-e061f0b37cc2",
        "dir": "left"
      },
      "children": [
        {
          "data": {
            "text": "数的认识整理",
            "note": "从自然数到负数，经历了数系的扩充。掌握自然数、整数、分数、小数、百分数、负数的意义、读写、大小比较和相互转化。",
            "nextSystemPrompt": "",
            "color": "#708090",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "4f5a0862-99e1-4528-bdf8-c7a46c95db29"
          },
          "children": []
        },
        {
          "data": {
            "text": "运算法则复习",
            "note": "整数、小数、分数的四则运算法则，运算定律的应用，运算顺序，简便计算方法。掌握不同数之间运算的统一性和特殊性。",
            "nextSystemPrompt": "",
            "color": "#778899",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "445a0c45-9d3d-4778-94a8-646231823e08"
          },
          "children": []
        },
        {
          "data": {
            "text": "方程与比例",
            "note": "简易方程的解法，比例的基本性质，正反比例关系。理解等式性质，掌握解方程和解比例的方法，能用方程解决实际问题。",
            "nextSystemPrompt": "",
            "color": "#696969",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "b373c853-0ffa-4619-9bee-4bcfe695845e"
          },
          "children": []
        },
        {
          "data": {
            "text": "数量关系应用",
            "note": "常见的数量关系：速度×时间=路程，单价×数量=总价等。能根据题意找出数量关系，列出算式或方程解决问题。",
            "nextSystemPrompt": "",
            "color": "#A9A9A9",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "f7a20127-8619-4ac0-a778-a8f05ee97a33"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "图形与几何复习",
        "note": "整理平面图形和立体图形的知识：线段、角、三角形、四边形、圆等平面图形的特征和计算；长方体、正方体、圆柱、圆锥等立体图形的特征和计算。掌握周长、面积、体积的计算方法。",
        "nextSystemPrompt": "基于图形与几何知识，总结出平面图形、立体图形、测量计算、图形变换等复习内容",
        "color": "#8B4513",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "407ab92a-e515-47c2-8fa3-88ff3e41e055",
        "dir": "left"
      },
      "children": [
        {
          "data": {
            "text": "平面图形复习",
            "note": "线段、射线、直线；角的分类和度量；三角形、平行四边形、梯形、圆等图形的特征；周长和面积的计算公式及应用。",
            "nextSystemPrompt": "",
            "color": "#A0522D",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "b13ffaf4-88e9-4bcf-820b-49df98332372"
          },
          "children": []
        },
        {
          "data": {
            "text": "立体图形复习",
            "note": "长方体、正方体、圆柱、圆锥的特征；表面积和体积的概念；各种立体图形表面积和体积的计算公式及实际应用。",
            "nextSystemPrompt": "",
            "color": "#CD853F",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "fbe656b0-8888-425b-894d-f1764898a5a7"
          },
          "children": []
        },
        {
          "data": {
            "text": "测量与计算",
            "note": "长度、面积、体积单位及其换算；周长、面积、体积计算公式的推导过程；解决与测量相关的实际问题的方法和策略。",
            "nextSystemPrompt": "",
            "color": "#D2691E",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "61fbbb21-4728-4894-a2d8-84fd1b98f7a3"
          },
          "children": []
        },
        {
          "data": {
            "text": "图形与位置",
            "note": "图形的平移、旋转、轴对称；用数对确定位置；比例尺的应用；从不同方向观察立体图形等空间观念的培养。",
            "nextSystemPrompt": "",
            "color": "#DAA520",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "32de6a6d-8cd4-4201-9d65-9afcba68e3b1"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "统计与概率复习",
        "note": "整理统计图表的制作和分析：条形统计图、折线统计图、扇形统计图的特点和应用；平均数、中位数、众数的意义；简单的概率问题；数据的收集、整理、描述和分析。",
        "nextSystemPrompt": "基于统计与概率知识，总结出统计图表、统计量、概率初步、数据分析等复习要点",
        "color": "#006400",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "ddc15668-45c8-4b95-8723-f9695c9afb75",
        "dir": "left"
      },
      "children": [
        {
          "data": {
            "text": "统计图表应用",
            "note": "条形统计图适合比较数据大小，折线统计图适合反映变化趋势，扇形统计图适合表示部分与整体关系。能根据需要选择合适的统计图。",
            "nextSystemPrompt": "",
            "color": "#228B22",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "6195c3f3-7f5b-4762-9483-596678a62f99"
          },
          "children": []
        },
        {
          "data": {
            "text": "统计量理解",
            "note": "平均数反映数据的平均水平，中位数反映数据的中等水平，众数反映数据的集中趋势。理解三种统计量的意义和适用场合。",
            "nextSystemPrompt": "",
            "color": "#32CD32",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "21e4eb9e-c5cb-4a04-8068-537e452de9d2"
          },
          "children": []
        },
        {
          "data": {
            "text": "概率初步认识",
            "note": "理解可能性的大小，能用分数表示简单事件发生的可能性。通过游戏、实验等活动体验随机现象，建立概率的初步概念。",
            "nextSystemPrompt": "",
            "color": "#7CFC00",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "556b11d7-133a-4b71-9c80-3c1685663855"
          },
          "children": []
        },
        {
          "data": {
            "text": "数据分析能力",
            "note": "能从统计图表中获取信息，分析数据的特征和规律，作出合理的判断和预测。培养数据意识和统计观念。",
            "nextSystemPrompt": "",
            "color": "#9ACD32",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "aa66efa4-8370-4ef2-857a-c87d2683f7d4"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "综合实践应用",
        "note": "运用所学数学知识解决生活中的实际问题，如购物打折、银行利息、工程问题等。培养数学建模思想，提高分析问题和解决问题的能力，体会数学与生活的密切联系。",
        "nextSystemPrompt": "基于综合应用，总结出生活问题、数学建模、解题策略、数学思想等应用要点",
        "color": "#B8860B",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "96eb2de4-8bf8-4070-a297-32d4eda3d4e2",
        "dir": "left"
      },
      "children": [
        {
          "data": {
            "text": "生活中的数学",
            "note": "购物中的打折问题，银行的利息计算，税收问题，比例尺应用等。能将实际问题转化为数学问题，用数学方法解决。",
            "nextSystemPrompt": "",
            "color": "#DAA520",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "848650c8-f508-4e95-8ad6-2284c892684b"
          },
          "children": []
        },
        {
          "data": {
            "text": "数学建模思想",
            "note": "从实际问题中抽象出数学模型，如方程模型、比例模型、几何模型等。理解建模过程：实际问题→数学模型→数学解答→实际意义。",
            "nextSystemPrompt": "",
            "color": "#FFD700",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "00fdf41d-714d-435e-84ed-c63b2e0e248d"
          },
          "children": []
        },
        {
          "data": {
            "text": "解题策略方法",
            "note": "掌握画图、列表、假设、转化等解题策略。能根据问题特点选择合适的方法，培养多角度思考问题的能力。",
            "nextSystemPrompt": "",
            "color": "#F0E68C",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "fddc3a16-aae7-44b1-86dc-f27e1bebe0da"
          },
          "children": []
        },
        {
          "data": {
            "text": "数学思想方法",
            "note": "数形结合、分类讨论、转化化归、函数思想等数学思想的渗透。通过具体问题体会数学思想，提高数学素养。",
            "nextSystemPrompt": "",
            "color": "#BDB76B",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "f64193cd-776c-4673-9f7a-67e9127d6fc4"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "数学思维发展",
        "note": "通过六年数学学习，培养数感、符号意识、空间观念、几何直观、数据分析观念、运算能力、推理能力、模型思想等数学核心素养，为进一步学习数学奠定基础。",
        "nextSystemPrompt": "基于数学思维，总结出数学素养、思维能力、学习方法、数学文化等发展要点",
        "color": "#4B0082",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "540a1b4d-41d5-4095-99f2-7275f85c80a5",
        "dir": "left"
      },
      "children": [
        {
          "data": {
            "text": "数学核心素养",
            "note": "数感、符号意识、空间观念、几何直观、数据分析观念等是数学学习的重要素养。通过具体的数学活动逐步形成和发展。",
            "nextSystemPrompt": "",
            "color": "#663399",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "ddb07817-6f64-4f48-9e2d-296eaf4abb5f"
          },
          "children": []
        },
        {
          "data": {
            "text": "思维能力培养",
            "note": "运算能力、推理能力、模型思想、应用意识等思维能力的培养。通过数学学习提高逻辑思维、空间想象、抽象概括等能力。",
            "nextSystemPrompt": "",
            "color": "#8B008B",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "0ac96f24-9d6f-4a10-9025-cf48add5789d"
          },
          "children": []
        },
        {
          "data": {
            "text": "数学学习方法",
            "note": "观察、实验、猜想、验证、推理、交流等数学学习方法。培养自主学习、合作学习、探究学习的能力。",
            "nextSystemPrompt": "",
            "color": "#9932CC",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "62a302f4-6a2a-4dc6-95f5-b8bb11ebc188"
          },
          "children": []
        },
        {
          "data": {
            "text": "数学文化感悟",
            "note": "了解数学的历史发展，感受数学的文化价值。如中国古代数学成就、数学家的故事等，增强民族自豪感和数学学习兴趣。",
            "nextSystemPrompt": "",
            "color": "#BA55D3",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "6d78e2af-ddd7-489b-84a4-4edbb1a259e8"
          },
          "children": []
        }
      ]
    },
    {
      "data": {
        "text": "学习评价与反思",
        "note": "通过自我评价、同伴评价、教师评价等多种方式，反思数学学习过程和结果。建立数学学习档案，记录学习收获和疑问，培养反思习惯和自我调节能力。",
        "nextSystemPrompt": "基于学习评价，总结出自我评价、学习反思、错误分析、学习规划等评价要点",
        "color": "#8B0A50",
        "expand": true,
        "richText": false,
        "isActive": false,
        "uid": "c9340005-ae79-47af-af77-67ad00e76c07",
        "dir": "left"
      },
      "children": [
        {
          "data": {
            "text": "学习成果评价",
            "note": "不仅关注知识技能的掌握，更关注数学思考、问题解决、情感态度等方面的发展。通过多元化评价全面了解学习状况。",
            "nextSystemPrompt": "",
            "color": "#A0206E",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "280df451-22f4-4e39-9abd-3a29e6b7be99"
          },
          "children": []
        },
        {
          "data": {
            "text": "学习过程反思",
            "note": "反思学习方法是否得当，思维过程是否清晰，解题策略是否合理。通过反思不断改进学习方法，提高学习效率。",
            "nextSystemPrompt": "",
            "color": "#B8368C",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "3b130a08-4284-4f48-89aa-d7b4d458bb07"
          },
          "children": []
        },
        {
          "data": {
            "text": "错误分析改进",
            "note": "分析错误原因，是概念理解不清、计算错误、还是方法选择不当。通过错误分析找到薄弱环节，有针对性地改进。",
            "nextSystemPrompt": "",
            "color": "#D04CAA",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "468e80fd-1dc8-4a10-a2c3-331719fdc3bd"
          },
          "children": []
        },
        {
          "data": {
            "text": "未来学习规划",
            "note": "总结小学数学学习经验，为中学数学学习做好准备。明确学习目标，制定学习计划，保持学习数学的兴趣和信心。",
            "nextSystemPrompt": "",
            "color": "#E862C8",
            "expand": true,
            "richText": false,
            "isActive": false,
            "uid": "ab1e593f-41b3-4536-ae38-f86281cf20a7"
          },
          "children": []
        }
      ]
    }
  ],
  "smmVersion": "0.14.0-fix.1"
};
// {{REPLACE:cardData END}}
        // {{REPLACE:cardData END}}
        
        // 多风格背景颜色库（科技、教育、儿童、可爱）
        const colors = [
            // --- 科技感 (Tech/Sci-Fi) ---
            // 冷色调、青色、电光蓝、金属灰
            '#e0f7fa', '#b2ebf2', '#80deea', '#84ffff', '#18ffff', // Cyan / Electric Blue
            '#e1f5fe', '#b3e5fc', '#81d4fa', '#80d8ff', '#40c4ff', // Light Blue / Sky
            '#eceff1', '#cfd8dc', '#b0bec5', '#90a4ae', '#f5f5f5', // Blue Grey / Metallic
            '#a7ffeb', '#64ffda', '#1de9b6', '#d7effe', '#e2efff', // Mint / Subtle Tech

            // --- 教育风格 (Education/Academic) ---
            // 稳重、护眼、纸张色、柔和的高亮色
            '#fff8e1', '#ffecb3', '#ffe082', '#ffd54f', '#fff3e0', // Paper / Warm Light
            '#e8f5e9', '#c8e6c9', '#a5d6a7', '#81c784', '#f1f8e9', // Calm Green / Growth
            '#e3f2fd', '#bbdefb', '#90caf9', '#64b5f6', '#e8eaf6', // Trustworthy Blue
            '#f3e5f5', '#e1bee7', '#ce93d8', '#fff9c4', '#fff59d', // Soft Purple / Highlight Yellow

            // --- 儿童风格 (Kids/Playful) ---
            // 明亮、高饱和度、原色系变体、活泼
            '#ff8a80', '#ff5252', '#ff9e80', '#ff6e40', '#ffd180', // Playful Red / Orange
            '#ffff8d', '#ffff00', '#f4ff81', '#eeff41', '#ccff90', // Bright Yellow / Lime
            '#82b1ff', '#448aff', '#80d8ff', '#00b0ff', '#84ffff', // Vivid Blue / Cyan
            '#b9f6ca', '#69f0ae', '#00e676', '#a7ffeb', '#18ffff', // Bright Green

            // --- 可爱风格 (Cute/Kawaii/Pastel) ---
            // 马卡龙色、粉嫩、奶油色、梦幻
            '#ffcdd2', '#ef9a9a', '#f8bbd0', '#f48fb1', '#fce4ec', // Soft Pink / Rose
            '#e1bee7', '#d1c4e9', '#c5cae9', '#ede7f6', '#d7ccc8', // Lavender / Soft Cocoa
            '#b2dfdb', '#80cbc4', '#b2ebf2', '#e0f7fa', '#c8e6c9', // Mint / Baby Blue
            '#fff9c4', '#fff59d', '#ffe082', '#ffebee', '#f3e5f5'  // Cream / Pudding / Dreamy
        ];
        /**
         * 创建卡片 DOM 元素
         */
        function createCardElement(nodeData) {
            const card = document.createElement('div');
            card.className = 'card';
            
            // 根据内容生成确定性的颜色索引，确保每次刷新颜色一致
            let hash = 0;
            const str = (nodeData.text || '') + (nodeData.uid || '');
            for (let i = 0; i < str.length; i++) {
                hash = str.charCodeAt(i) + ((hash << 5) - hash);
            }
            const index = Math.abs(hash) % colors.length;
            const fixedColor = colors[index];
            card.style.backgroundColor = fixedColor;
            
            // 统一文字和边框样式
            card.style.color = '#333333';
            card.style.border = '1px solid rgba(0,0,0,0.05)';

            // 标题 (text)
            const textEl = document.createElement('div');
            textEl.className = 'card-text';
            textEl.textContent = nodeData.text || '无标题节点';

            // 备注 (note)
            const noteEl = document.createElement('div');
            noteEl.className = 'card-note';
            noteEl.textContent = nodeData.note || '';

            card.appendChild(textEl);
            card.appendChild(noteEl);

            return card;
        }

        /**
         * 递归渲染节点
         */
        function renderNodes(nodes, container) {
            if (!nodes || nodes.length === 0) return;

            nodes.forEach(node => {
                const nodeWrapper = document.createElement('div');
                nodeWrapper.className = 'node-wrapper';

                // 1. 渲染当前节点卡片
                if (node.data) {
                    const card = createCardElement(node.data);
                    nodeWrapper.appendChild(card);
                }

                // 2. 递归渲染子节点
                if (node.children && node.children.length > 0) {
                    const childrenWrapper = document.createElement('div');
                    childrenWrapper.className = 'children-wrapper';
                    renderNodes(node.children, childrenWrapper);
                    nodeWrapper.appendChild(childrenWrapper);
                }

                container.appendChild(nodeWrapper);
            });
        }

        // 初始化
        const appContainer = document.getElementById('app');
        
        // 设置标题
        if (cardData.data && cardData.data.text) {
            document.getElementById('topic-title').textContent = cardData.data.text;
        }

        // 渲染根节点（将根节点作为数组传入以复用 renderNodes 逻辑）
        // 如果根节点是对象，先把它包装成数组
        const rootNodes = cardData.children ? cardData.children : [cardData];
        renderNodes(rootNodes, appContainer);
    </script>
</body>
</html>